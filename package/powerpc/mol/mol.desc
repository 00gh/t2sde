[COPY] --- T2-COPYRIGHT-BEGIN ---
[COPY] t2/package/*/mol/mol.desc
[COPY] Copyright (C) 2004 - 2025 The T2 SDE Project
[COPY] Copyright (C) 1998 - 2003 ROCK Linux Project
[COPY] SPDX-License-Identifier: GPL-2.0
[COPY] --- T2-COPYRIGHT-END ---

[I] Mac On Linux

[T] Mac-On-Linux makes it possible to run Mac OS (including OS X) under
[T] Linux/PPC. MOL is not an emulator but runs the OS directly without
[T] any CPU emulation. Moreover, NO ROM IMAGE is required.
[T]
[T] It is also possible to run a Linux/PPC in MOL.

[U] https://mac-on-linux.sourceforge.net/

[A] Samuel Rydh <samuel@ibrium.se>
[A] Joseph Jezak <josejx@gentoo.org>
[M] Rene Rebe <rene@t2-project.org>

[C] base/system
[F] FCOMMON NO-LTO
[R] + powerpc powerpc64

[L] GPL
[S] Beta
[V] r171

#[D] 3944585963 mol-0.9.72.1.tar.bz2 http://dl.sourceforge.net/sourceforge/mac-on-linux/
[D] 808acaf3406c8cb28c6ce3fe1f92fad5b98be100610dc45955121b08 mol-r171.tar.zst svn+https://svn.code.sf.net/p/mac-on-linux/code/trunk mol -r171

var_append makeopt ' ' BUILD_MODS=n
var_append makeinstopt ' ' BUILD_MODS=n

# fix freestanding elf to not require libgcc symbols w/ -Os
var_append CC_WRAPPER_APPEND ' ' '*/molelf/*?-O2:'
var_append CC_WRAPPER_APPEND ' ' '*/molelf/*?-ffreestanding:'

hook_add premake 3 "yes '' | $MAKE oldconfig"
# hotfix parallel make
hook_add premake 5 'eval $MAKE $makeopt local-includes'

hook_add postmake 5 "cp -fv $confdir/molrc* $sysconfdir/mol/"
